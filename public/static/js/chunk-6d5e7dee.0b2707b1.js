(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d5e7dee"],{"008a":function(e,t,a){},"04d1":function(e,t,a){"use strict";a("513d")},2506:function(e,t,a){"use strict";a.d(t,"i",(function(){return s})),a.d(t,"m",(function(){return n})),a.d(t,"n",(function(){return o})),a.d(t,"q",(function(){return i})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"r",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return y})),a.d(t,"s",(function(){return g})),a.d(t,"a",(function(){return _}));a("99af");var r=a("b775");function s(e){return Object(r["a"])({url:"/user/process/instance/".concat(e.page,"/").concat(e.pageSize),method:"get"})}function n(e){return Object(r["a"])({url:"/user/process/instance/getById/".concat(e)})}function o(e){return Object(r["a"])({url:"/approvals/flows/".concat(e)})}function i(e){return Object(r["a"])({url:"/approvals/setting",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/user/process/instance/".concat(e)})}function l(e){return Object(r["a"])({url:"/user/process/instance/tasks/detail/".concat(e)})}function u(e){return Object(r["a"])({url:"//user/process/buss/showBussImgById/".concat(e)})}function d(e){return Object(r["a"])({url:"/user/process/definition",params:e})}function p(e){return Object(r["a"])({url:"/user/process/suspend/".concat(e.processKey),params:e})}function m(e){return Object(r["a"])({url:"/user/process_leave/startProcess",data:e,method:"post"})}function f(e){return Object(r["a"])({url:"/user/approvals/".concat(e.id,"/reject"),method:"put",data:e})}function h(e){return Object(r["a"])({url:"/user/approvals/".concat(e),method:"delete"})}function v(e){return Object(r["a"])({url:"/user/process/instance/commit",method:"put",data:e})}function b(e){return Object(r["a"])({url:"/user/process_dimission/startProcess",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/user/process_overtime/startProcess",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/sys/user/".concat(e.id),method:"put",data:e})}function _(e){return Object(r["a"])({url:"/user/process/startProcess",method:"post",data:e})}},"36dd":function(e,t,a){"use strict";a("8171")},"513d":function(e,t,a){},"616f":function(e,t,a){e.exports=a.p+"static/img/img.0615818f.jpeg"},8171:function(e,t,a){},9406:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dashboard-container"},[r("el-card",{staticClass:"header-card"},[r("div",[r("div",{staticClass:"fl headL"},[r("div",{staticClass:"headImg"},[r("img",{directives:[{name:"imagerror",rawName:"v-imagerror",value:e.defaultImg,expression:"defaultImg"}],attrs:{src:e.avatar}})]),r("div",{staticClass:"headInfoTip"},[r("p",{staticClass:"firstChild"},[e._v("早安，"+e._s(e.name)+"，祝你开心每一天！")]),r("p",{staticClass:"lastChild"},[e._v(e._s(e.name)+" | "+e._s(e.userInfo.company)+" - "+e._s(e.userInfo.departmentName))])])]),r("div",{staticClass:"fr"})])]),r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("el-col",{staticStyle:{"padding-right":"26px"},attrs:{span:13}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("工作日历")])]),r("work-calendar")],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"advContent"},[r("div",{staticClass:"title"},[e._v(" 公告")]),r("div",{staticClass:"contentItem"},[r("ul",{staticClass:"noticeList"},[r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[e._v("朱继柳")]),e._v(" 发布了 第1期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[e._v("2018-07-21 15:21:38")])])])]),r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[e._v("朱继柳")]),e._v(" 发布了 第2期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[e._v("2018-07-21 15:21:38")])])])]),r("li",[r("div",{staticClass:"item"},[r("img",{attrs:{src:a("616f"),alt:""}}),r("div",[r("p",[r("span",{staticClass:"col"},[e._v("朱继柳")]),e._v(" 发布了 第3期“传智大讲堂”互动讨论获奖名单公布")]),r("p",[e._v("2018-07-21 15:21:38")])])])])])])])])],1),r("el-col",{attrs:{span:11}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header headTit"},[r("span",[e._v("流程申请")])]),r("div",{staticClass:"sideNav"},[r("el-button",{staticClass:"sideBtn",on:{click:e.applyBtn}},[e._v("加班离职")]),r("el-button",{staticClass:"sideBtn"},[e._v("请假调休")]),r("el-button",{staticClass:"sideBtn",on:{click:function(t){return e.$router.push("/users/approvals")}}},[e._v("审批列表")]),r("el-button",{staticClass:"sideBtn",on:{click:function(t){return e.$router.push("/users/info")}}},[e._v("我的信息")])],1)]),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("绩效指数")])]),r("radar")],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"header headTit"},[r("span",[e._v("帮助链接")])]),r("div",{staticClass:"sideLink"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconGuide"}),r("p",[e._v("入门指南")])])]),r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconHelp"}),r("p",[e._v("在线帮助手册")])])]),r("el-col",{attrs:{span:8}},[r("a",{attrs:{href:"#"}},[r("span",{staticClass:"icon iconTechnology"}),r("p",[e._v("联系技术支持")])])])],1)],1)])],1)],1),r("work-apply",{attrs:{"show-apply-dialog":e.showApplyDialog},on:{"update:showApplyDialog":function(t){e.showApplyDialog=t},"update:show-apply-dialog":function(t){e.showApplyDialog=t}}})],1)},s=[],n=a("5530"),o=a("2f62"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:e.dataChange},model:{value:e.currentYear,callback:function(t){e.currentYear=t},expression:"currentYear"}},e._l(e.yearList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{size:"small"},on:{change:e.dataChange},model:{value:e.currentMonth,callback:function(t){e.currentMonth=t},expression:"currentMonth"}},e._l(12,(function(e){return a("el-option",{key:e,attrs:{label:e+"月",value:e}})})),1)],1),a("el-calendar",{scopedSlots:e._u([{key:"dateCell",fn:function(t){var r=t.date,s=t.data;return[a("div",{staticClass:"date-content"},[a("span",{staticClass:"text"},[e._v(e._s(e._f("getDay")(s.day)))]),e.isWeek(r)?a("span",{staticClass:"rest"},[e._v("休")]):e._e()])]}}]),model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)},c=[],l=(a("99af"),a("a630"),a("3ca3"),a("2ca0"),{name:"WorkCalendar",filters:{getDay:function(e){var t=e.split("-")[2];return t.startsWith("0")?t.substr(1):t}},props:{startDate:{type:Date,default:function(){return new Date}}},data:function(){return{yearList:[],currentYear:null,currentMonth:null,currentDate:null}},created:function(){var e=this;this.currentYear=this.startDate.getFullYear(),this.currentMonth=this.startDate.getMonth()+1,this.yearList=Array.from(Array(11),(function(t,a){return e.currentYear+a-5})),this.dataChange()},methods:{dataChange:function(){this.currentDate=new Date("".concat(this.currentYear,"-").concat(this.currentMonth,"-1"))},isWeek:function(e){return 6===e.getDay()||0===e.getDay()}}}),u=l,d=(a("04d1"),a("2877")),p=Object(d["a"])(u,i,c,!1,null,"64cb38cc",null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"myBox",staticClass:"radar-echart"})},h=[],v=a("3eba");a("8deb"),a("007d"),a("627c"),a("d28f");var b={name:"Radar",created:function(){},mounted:function(){var e=v.init(this.$refs.myBox);e.setOption({title:{text:"绩效评估"},legend:{data:["张三","李四","王五"]},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"工作效率",max:100},{name:"考勤",max:100},{name:"积极性",max:100},{name:"帮助同事",max:100},{name:"自主学习",max:100},{name:"准确率",max:100}]},series:[{name:"Budget vs spending",type:"radar",data:[{value:[100,1,100,5,100,0],name:"张三"},{value:[100,100,80,90,70,0],name:"李四"},{value:[60,50,80,66,70,40],name:"王五"}]}]})}},y=b,g=(a("36dd"),Object(d["a"])(y,f,h,!1,null,null,null)),_=g.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showApplyDialog,title:"申请"},on:{close:e.btnCancel}},[a("el-form",{ref:"myForm",attrs:{"label-width":"120px",model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"申请类型",prop:"processName"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.nameChange},model:{value:e.ruleForm.processName,callback:function(t){e.$set(e.ruleForm,"processName",t)},expression:"ruleForm.processName"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),e.showOverTime?a("div",[a("el-form-item",{attrs:{label:"加班开始时间",prop:"start_time"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1),a("el-form-item",{attrs:{label:"加班结束时间",prop:"end_time"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1),a("el-form-item",{attrs:{label:"补偿方式"}},[a("span",[e._v("调休")])]),a("el-form-item",{attrs:{label:"加班原因",prop:"reason"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:8},resize:"none"},model:{value:e.ruleForm.reason,callback:function(t){e.$set(e.ruleForm,"reason",t)},expression:"ruleForm.reason"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:"期望离职时间",prop:"exceptTime"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.ruleForm.exceptTime,callback:function(t){e.$set(e.ruleForm,"exceptTime",t)},expression:"ruleForm.exceptTime"}})],1),a("el-form-item",{attrs:{label:"离职原因",prop:"reason"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:8},resize:"none"},model:{value:e.ruleForm.reason,callback:function(t){e.$set(e.ruleForm,"reason",t)},expression:"ruleForm.reason"}})],1)],1)],1),a("el-row",{attrs:{slot:"footer",type:"flex",justify:"center"},slot:"footer"},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.btnOk}},[e._v("确定")]),a("el-button",{attrs:{size:"small"},on:{click:e.btnCancel}},[e._v("取消")])],1)],1)],1)},x=[],w=a("c7eb"),k=a("1da1"),O=(a("b0c0"),a("2506")),j={name:"WorkApply",props:{showApplyDialog:{type:Boolean,default:!1}},data:function(){return{options:[{value:"加班"},{value:"离职"}],showOverTime:!0,ruleForm:{userId:this.$store.getters.userId,username:this.$store.getters.name,processKey:"process_overtime",processName:"加班",exceptTime:"",reason:"",start_time:"",end_time:""},rules:{processName:[{required:!0,message:"申请类型不能为空",trigger:"blur"}],exceptTime:[{required:!0,message:"离职时间不能为空"}],reason:[{required:!0,message:"离职原因不能为空",trigger:"blur"}],start_time:[{required:!0,message:"加班开始时间不能为空"}],end_time:[{required:!0,message:"加班结束时间不能为空"}]}}},computed:{},methods:{nameChange:function(e){console.log(e),"离职"===e?(this.showOverTime=!1,this.ruleForm.processKey="process_dimission"):(this.showOverTime=!0,this.ruleForm.processKey="process_overtime"),this.$refs.myForm.clearValidate(),this.ruleForm={userId:this.$store.getters.userId,username:this.$store.getters.name,processKey:"加班"===e?"process_overtime":"process_dimission",processName:e,exceptTime:"",reason:"",start_time:"",end_time:""}},btnOk:function(){var e=this;return Object(k["a"])(Object(w["a"])().mark((function t(){return Object(w["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.myForm.validate();case 3:return t.next=5,Object(O["a"])(e.ruleForm);case 5:e.$message.success("提交申请成功！"),e.$emit("update:showApplyDialog",!1),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},btnCancel:function(){var e=this;this.$emit("update:showApplyDialog",!1),setTimeout((function(){e.showOverTime=!0,e.$refs.myForm.resetFields()}),500)}}},F=j,D=Object(d["a"])(F,C,x,!1,null,null,null),$=D.exports,T=Object(o["a"])("user"),I=T.mapState,A={name:"Dashboard",components:{WorkCalendar:m,Radar:_,workApply:$},data:function(){return{defaultImg:"https://img2.baidu.com/it/u=503527429,390831611&fm=253",showApplyDialog:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(o["d"])(["name","avatar"])),I(["userInfo"])),methods:{applyBtn:function(){this.showApplyDialog=!0}}},B=A,M=(a("b3ea"),Object(d["a"])(B,r,s,!1,null,"3b59ef32",null));t["default"]=M.exports},b3ea:function(e,t,a){"use strict";a("008a")}}]);